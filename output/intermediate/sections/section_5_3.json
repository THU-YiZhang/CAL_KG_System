{
  "section_num": "5.3",
  "title": "组合放大电路",
  "start_line": 3373,
  "end_line": 3496,
  "content": "### 5.3 组合放大电路\n单级放大器的增益有限,需要将各单级放大电路组合在一起,提高整体电路的增益和信号处理能力。在多级组合放大电路中,首先应保证各单级放大电路的输入和输出都处于适合的静态工作点,各级电路均处于有效的放大区,尤其是前级驱动后级时,应特别注意前后级直流静态工作点的匹配。从交流小信号放大的角度看,采用 $\\mathrm{N}$ 型与 $\\mathrm{P}$ 型增益结构没有实质性区别, 但从直流电平的变化角度看, 不同类型放大管对前级输出的共模电平影响不同, 后级放大电路的 ${V}_{\\mathrm{{GS}}}$ 电压具有对前级放大电路输出电位定义或钳位的作用。因此,前级电路的负载与后级电路放大管的类型应相互配合, 实现级间电路静态工作点匹配的要求。直流电平移位是多级放大电路中所必须考虑的问题,与集成放大电路全局偏置的结构特点相对应。\n普通电阻分压的直流电平移位,对直流信号和交流信号有相同的衰减,无法实现电平移位电路的基本要求。二极管或 MOS 二极管 s 则是一种比较有效的直流电平移位电路, 经恒流源的偏置,其直流导通电压可提供 ${V}_{\\mathrm{{BE}}}$ 或 ${V}_{\\mathrm{{GS}}}$ 固定直流电平移位,而交流信号则由于交流阻抗很小而近似为跟随传输。\n#### 5.3.1 Cascade 组合放大电路\n组合放大电路除了实现高电压增益的基本要求外, 还能通过不同类型单元电路的有机组合,实现线性信号处理不同功能和性能指标的要求。\n在图 5-15 所示的两级 Cascade 组合放大电路中, CS-CS 组合电路实现的是电压放大。当前后两级 $\\mathrm{{CS}}$ 采用 $\\mathrm{N}$ 型与 $\\mathrm{P}$ 型输入结构搭配运用时,放大管的直流工作点容易匹配, 并适合静态低电流和宽摆幅输出的状态。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_128_367_1565_871_343_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_128_367_1565_871_343_0.jpg)\n图 5-15 基本的两级 Cascade 组合放大电路\n由于电压和电流放大下的负载特性完全相反,因此单一的放大电路无法同时实现电压与电流放大, 而 CS-CD 组合电路则能实现电流与电压同时放大, 即功率放大。首先 CS 输入级实现高阻下的电压增益,随后再由 $\\mathrm{{CD}}$ 电压跟随实现低阻下的电流增益,最终完成功率放大。其中 $\\mathrm{{CD}}$ 作为内部电压放大电路实现满量程放大信号对输出负载的隔离缓冲作用。\nCD-CG-CS是一种三级组合电路,首先通过电压缓冲级将输入电压转变为电流信号, 然后再通过 CG 的电流跟随将电流信号转变为输出的电压信号。因此, CD - CG 结构中前后两级放大管的类型一定是相反的,当 CD 采用 NMOS 电压跟随时, CG 一定是 PMOS 电流跟随,反之亦然。CD - CG 通常可用于 Class AB 模式的 CMOS 差分输入对。此外,当 CD-CG中流过固定的电流时,该结构还可作为电平移位结构,形成的固定偏压为 ${V}_{\\mathrm{{GSN}}} + {V}_{\\mathrm{{GSP}}}$ 。\n为使互补输出管获得差分电流驱动, 可利用输入电压跟随器再经 CG 的电流转换后得到反相变化的两路电流,最后经过电流镜的线性传输驱动互补输出管,实现 Class B 的放大。电路结构如图 5-16 所示。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_129_311_740_900_415_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_129_311_740_900_415_0.jpg)\n图 5-16 基于 CD-CG-CS 的 Class B/Class AB 电压放大电路\n以上互补增益电路可以工作在 Class A、Class B 以及 Class AB 的各类模式下,具体模式的设定取决于输入 PMOS 和 NMOS 电压跟随器正常工作的共模信号范围,即 $\\left( {{V}_{{i}_{\\mathrm{e}},\\mathrm{p}} + }\\right.$ $\\left. {{V}_{\\mathrm{{TN}}} + {V}_{\\mathrm{{TP}}} + {\\Delta }_{\\mathrm{p}8} + {\\Delta }_{\\mathrm{n}5}}\\right)  < {V}_{\\mathrm{{bn}}}\\left( {{V}_{\\mathrm{i}, n} + {V}_{\\mathrm{{TN}}} + {V}_{\\mathrm{{TP}}} + {\\Delta }_{\\mathrm{p}6} + {\\Delta }_{\\mathrm{n}7}}\\right)  > {V}_{\\mathrm{{bp}}}$ 。根据电路工作状态的限制,为使 ${V}_{{i}_{\\mathrm{e}},\\mathrm{p}}$ 与 ${V}_{{i}_{\\mathrm{e}},\\mathrm{n}}$ 存在公共的交叠区域以形成 Class AB 驱动,则应满足 ${V}_{{i}_{\\mathrm{e}},\\mathrm{p},\\max } >$ ${V}_{{\\mathrm{i}}_{\\mathrm{c}},\\mathrm{n},\\max }$ 的条件,即\n$$\n\\left\\lbrack  {{V}_{\\mathrm{{bn}}} - \\left( {{\\Delta }_{\\mathrm{n}5} + {\\Delta }_{\\mathrm{p}8}}\\right) }\\right\\rbrack   > \\left\\lbrack  {{V}_{\\mathrm{{bp}}} - \\left( {{\\Delta }_{\\mathrm{n}7} + {\\Delta }_{\\mathrm{p}6}}\\right) }\\right\\rbrack   \\tag{5 - 23}\n$$\n静态条件下, NMOS 与 PMOS 对称管中流过相同的静态电流,即 $\\Delta  = {\\Delta }_{\\mathrm{n}} = {\\Delta }_{\\mathrm{p}}$ ,则形成 Class AB 驱动的必要条件为 ${V}_{\\mathrm{{bn}}} > {V}_{\\mathrm{{bp}}}$ ,交替越大则静态电流也越大,动态范围越宽。很大的 ${V}_{\\mathrm{{bn}}}$ 配合很小的 ${V}_{\\mathrm{{bp}}}$ ,则进入 Class A 模式；当 ${V}_{\\mathrm{{bn}}} = {V}_{\\mathrm{{bp}}}$ 时,处于 Class B 模式,产生交越失真；当 ${V}_{\\mathrm{{bn}}} < {V}_{\\mathrm{{bp}}}$ 时,进入 $\\mathrm{{ClassC}}$ 状态,电路效率进一步提高,但截止失真增大。\n该电路 NMOS 与 PMOS 独立输入支路的电压增益,分别对应为 Class B 工作点下两区域内的电压增益,设 ${r}_{0}$ 为导通 MOS 管的输出阻抗,则\n$$\n{A}_{\\mathrm{v},\\mathrm{n}} = \\frac{{g}_{\\mathrm{m}7}/{g}_{\\mathrm{m}6}}{1 + {g}_{\\mathrm{m}7}/{g}_{\\mathrm{m}6}}{g}_{\\mathrm{m}6}\\frac{1}{{g}_{\\mathrm{m}4}}\\left( {-{g}_{\\mathrm{m}1}{r}_{\\mathrm{{on}}}}\\right)  \\approx   - \\frac{1}{{g}_{\\mathrm{m}6}^{-1} + {g}_{\\mathrm{m}7}^{-1}}\\frac{{g}_{\\mathrm{m}1}}{{g}_{\\mathrm{m}4}}{r}_{\\mathrm{{on}}} \\tag{5 - 24}\n$$\n$$\n{A}_{\\mathrm{v},\\mathrm{p}} = \\frac{{g}_{\\mathrm{m}8}/{g}_{\\mathrm{m}5}}{1 + {g}_{\\mathrm{m}8}/{g}_{\\mathrm{m}5}}{g}_{\\mathrm{m}5}\\frac{1}{{g}_{\\mathrm{m}3}}\\left( {-{g}_{\\mathrm{m}2}{r}_{\\mathrm{{op}}}}\\right)  \\approx   - \\frac{1}{{g}_{\\mathrm{m}5}^{-1} + {g}_{\\mathrm{m}8}^{-1}}\\frac{{g}_{\\mathrm{m}2}}{{g}_{\\mathrm{m}3}}{r}_{\\mathrm{{op}}} \\tag{5 - 25}\n$$\n在 Class A 的驱动模式下, 输出 CS 增益级阻抗变为导通 MOS 管输出阻抗的并联, 即 ${r}_{\\mathrm{o}} = {r}_{\\mathrm{{on}}}//{r}_{\\mathrm{{op}}}$ ,同时考虑到对称设计中电流镜的比相同,即 ${g}_{\\mathrm{m}1}/{g}_{\\mathrm{m}4} = {g}_{\\mathrm{m}2}/{g}_{\\mathrm{m}3} = M$ ,则 Class A模式下的总增益 ${A}_{\\mathrm{v}} = {A}_{\\mathrm{{vn}}} + {A}_{\\mathrm{{vp}}}$ ,有\n$$\n{A}_{\\mathrm{v}} =  - \\left( {\\frac{1}{{g}_{\\mathrm{m}6}^{-1} + {g}_{\\mathrm{m}7}^{-1}} + \\frac{1}{{g}_{\\mathrm{m}5}^{-1} + {g}_{\\mathrm{m}8}^{-1}}}\\right) M\\left( {{r}_{\\mathrm{{on}}}//{r}_{\\mathrm{{op}}}}\\right)  \\tag{5 - 26}\n$$\n#### 5.3.2 CS-CG Cascode 组合放大电路\n当有源放大管采用电源方向上的垂直级联而非水平级联方式时,即构成 Cascode 组合放大电路,同样可实现类似于 Cascade 结构的电压增益倍增效应,但实现的方式和途径不同。Cascade 通过信号级联放大的方式提高总增益, 适合低压电路设计, 但带来了电路稳定性和频率响应性能较差等方面的问题; 而 Cascode 主要通过提高输出阻抗的方式实现增益的提高, 相比 Cascade 它具有更优异的频率响应特性, 但通常需要较高的电源电压。\n对于 Cascode 结构, 由于信号只能先从 MOS 管的栅极输入, 因此输入级为 CS 电压增益,其漏极输出作为第二级放大电路的源极信号输入,经 CG 放大输出。当 Cascode 结构中的 CS 和 CG 为同类型 MOS 管时,称为套筒式(Telescope)Cascode 结构；当 CS 与 CG 中的 MOS 管类型相反时,为折叠式(Folded)Cascode 结构。Cascode 尤其是 Telescope Cascode 采用同方向上的垂直级连,所需的最低工作电压有所提升, Folded Cascode 由于改变垂直级连的方向,因此工作电压的下限值相比 Telescop Cascode 略有降低。然而, Folded Cascode 多出的一条支路需要另外的静态偏置,功耗性能略有损失。\n## 1) NMOS 二极管负载 Cascode 结构\n首先考虑图 5-17(a) 所示的 MOS 二极管低负载阻抗下的 Cascode 电路, 可分别计算出 $\\mathrm{{CS}}$ 、 $\\mathrm{{CG}}$ 的增益。考虑衬底偏置效应的影响, $\\mathrm{{CS}}$ 输出阻抗为 ${\\alpha }_{2}/{g}_{\\mathrm{m}2}$ ,在 ${I}_{\\mathrm{{DS}}1} = {I}_{\\mathrm{{DS}}2}$ 的条件下, 则其增益为\n$$\n{A}_{\\mathrm{{vl}}} = \\frac{{V}_{\\mathrm{{ol}}}}{{V}_{\\mathrm{i}}} =  - {\\alpha }_{2}\\frac{{g}_{\\mathrm{m}1}}{{g}_{\\mathrm{m}2}} =  - {\\alpha }_{2}\\sqrt{\\frac{{\\left( W/L\\right) }_{1}}{{\\left( W/L\\right) }_{2}}} \\tag{5 - 27}\n$$\nCG 的输出阻抗为 ${\\alpha }_{3}/{g}_{\\mathrm{m}3}$ ,在 ${I}_{\\mathrm{{DS}}2} = {I}_{\\mathrm{{DS}}3}$ 的条件下,则其增益为\n$$\n{A}_{\\mathrm{v}2} = \\frac{{V}_{\\mathrm{o}}}{{V}_{\\mathrm{o}1}} = \\frac{{\\alpha }_{3}}{{\\alpha }_{2}}\\frac{{g}_{\\mathrm{m}2}}{{g}_{\\mathrm{m}3}} = \\frac{{\\alpha }_{3}}{{\\alpha }_{2}}\\sqrt{\\frac{{\\left( W/L\\right) }_{2}}{{\\left( W/L\\right) }_{3}}} \\tag{5 - 28}\n$$\n$\\mathrm{{CS}} - \\mathrm{{CG}}$ 的总增益为\n$$\n{A}_{\\mathrm{v}} = {A}_{\\mathrm{v}1}{A}_{\\mathrm{v}2} =  - {\\alpha }_{3}\\frac{{g}_{\\mathrm{m}1}}{{g}_{\\mathrm{m}3}} =  - {\\alpha }_{3}\\sqrt{\\frac{{\\left( W/L\\right) }_{1}}{{\\left( W/L\\right) }_{3}}} \\tag{5 - 29}\n$$\n以上结果表明,对于 $\\mathrm{N}$ 型 CS-CG Cascode 增益电路,当采用低阻负载时, Cascode 的高增益性能无法充分发挥,而且 NMOS 负载中的衬底偏置效应还将带来严重的非线性失真。\n## 2) PMOS 恒流源负载 Cascode 结构\n为充分发挥 Cascode 增益倍增效应,应增加电路的输入跨导并提高输出阻抗,负载应采用恒流源有源负载。图 5-17(b) 给出了一种采用 PMOS 恒流负载的 N 型 Cascode 电路结构,若放大管及负载的静态电流相同,即图中 ${\\mathrm{M}}_{4}$ 管不存在时,则由输入管跨导和输出负载阻抗决定的 Cascode 电压增益为 ${A}_{\\mathrm{v}} \\approx   - {g}_{\\mathrm{{ml}}}{r}_{\\mathrm{{cp}}}$ 。在饱和工作条件下,由于增益与偏置电流的平方根成反比,因此减小电流可使增益提高,直到电流减小,管子进入亚阈值区后,增益达到最大。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_131_313_303_873_465_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_131_313_303_873_465_0.jpg)\n图 5-17 基于 CS+CG 共源共栅的 Cascode 放大电路\n图 5-17(b) 中 ${\\mathrm{M}}_{4}$ 管为 $\\mathrm{{CS}}$ 增益管 ${\\mathrm{M}}_{1}$ 提供额外的电流注入,以提高其跨导,同时使负载保持较小的静态电流,提高输出电阻,其电压增益比以上分析的基本电路增益 ${A}_{\\mathrm{v}} =  -$ ${g}_{\\mathrm{{ml}}}{r}_{\\mathrm{{op}}}$ 有一定改善。当注入电流较大而负载电流较小时,考虑到 ${I}_{\\mathrm{{DS}}1} = {I}_{\\mathrm{{DS}}3} + {I}_{\\mathrm{{DS}}4}$ ,应有\n$$\n{A}_{\\mathrm{v}} =  - {g}_{\\mathrm{m}1}{r}_{\\mathrm{{ds}}3} =  - \\sqrt{2{k}_{1}{I}_{\\mathrm{{DS}}1}}\\frac{1}{\\lambda {I}_{\\mathrm{{DS}}3}} =  - {V}_{\\mathrm{A}}\\sqrt{\\frac{2{k}_{1}}{{I}_{\\mathrm{{DS}}3}}}\\sqrt{1 + {I}_{\\mathrm{{DS}}4}/{I}_{\\mathrm{{DS}}3}} \\tag{5 - 30}\n$$\n提高 ${I}_{\\mathrm{{DS}}4}$ 并降低 ${I}_{\\mathrm{{DS}}3}$ ,可满足跨导增加与阻抗增加对静态电流的不同要求,以改善增益特性。\n## 3)高输出电阻套筒式(Telescope)Cascode 结构\n提高 Cascode 电路的增益, 除了增加放大管跨导外, 还需增大输出阻抗。为使输出阻抗达到最大值,其有源负载应与 Cascode 放大部分的输出阻抗相匹配,为此可采用 Cascode 恒流负载,由此形成一种放大与负载平衡式的套筒式共源共栅 Telescope Cascode 增益结构。 电路如图 5-18(a) 所示, 其电压增益为\n$$\n{A}_{\\mathrm{v}} =  - {g}_{\\mathrm{{ml}}}\\left\\lbrack  {\\left( {\\frac{1}{{\\alpha }_{3}}{g}_{\\mathrm{m}3}{r}_{\\mathrm{{ds}}4}{r}_{\\mathrm{{ds}}3}}\\right) //\\left( {\\frac{1}{{\\alpha }_{2}}{g}_{\\mathrm{m}2}{r}_{\\mathrm{{ds}}1}{r}_{\\mathrm{{ds}}2}}\\right) }\\right\\rbrack   \\tag{5 - 31}\n$$\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_131_395_1573_726_462_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_131_395_1573_726_462_0.jpg)\n图 5-18 高阻输出的 Cascode 放大电路\n若采用对称平衡设计,所有饱和 MOS 管的跨导、本征输出阻抗均相同,且 ${\\alpha }_{3} = {\\alpha }_{2} = \\alpha$ , 则以上增益可简化为\n$$\n\\left. \\begin{array}{l} {A}_{\\mathrm{v}} =  - {g}_{\\mathrm{m}}{R}_{\\mathrm{o}} =  - \\frac{1}{2\\alpha }{\\left( {g}_{\\mathrm{m}}{r}_{\\mathrm{o}}\\right) }^{2} \\\\  {R}_{\\mathrm{o}} = \\frac{1}{2\\alpha }{g}_{\\mathrm{m}}{r}_{\\mathrm{o}}^{2} \\end{array}\\right\\}   \\tag{5 - 32}\n$$\n此电路结构存在的主要问题是输出电压动态范围窄,需采用宽摆幅的恒流源负载以缓解以上不足。\n## 4)折叠式(Fold)Cascode 结构\n为进一步克服 Telescope Cascode 电源电压高、输出摆幅小的缺点,可采用一种折叠式的 Cascode 增益结构,电路如图 5-18(b) 所示。图中 ${I}_{1}$ 恒流源为放大支路的公共负载, ${\\mathrm{M}}_{1}$ 为 $\\mathrm{N}$ 型 $\\mathrm{{CS}}$ 放大管, ${\\mathrm{M}}_{2}$ 为 $\\mathrm{P}$ 型 $\\mathrm{{CG}}$ 放大管, ${M}_{3}$ 恒流源为 $\\mathrm{{CG}}$ 提供静态偏置。与 Telescope Cascode 放大电路不同的是, Fold Cascode 放大器中 CS 放大管与 CG 放大管的类型相异, 因此直流电平移位的方向相反,有利于电源电压的减小。但由于增加了一条电流支路,电路功耗增加。通常,静态下各支路偏置电流相同,即 ${I}_{\\mathrm{{DS}}1} = {I}_{\\mathrm{{DS}}2} = {I}_{\\mathrm{{DS}}3} = {I}_{1}/2$ 。类似于差分结构,若 ${g}_{\\mathrm{m}1} = {g}_{\\mathrm{m}2}$ ,则\n$$\n{A}_{\\mathrm{v}} =  - {g}_{\\mathrm{{ml}}}\\left\\{  {{r}_{\\mathrm{{ds}}3}//\\left\\lbrack  {{g}_{\\mathrm{m}2}\\left( {{r}_{\\mathrm{{ds}}1}//{r}_{\\mathrm{{ds}}{I}_{1}}}\\right) {r}_{\\mathrm{{ds}}2}}\\right\\rbrack  }\\right\\}   \\approx   - {g}_{\\mathrm{m}1}{r}_{\\mathrm{{ds}}3} \\tag{5 - 33}\n$$\n增益与输出电阻与 Telescope Cascode 相近, 且输入放大管容易工作在饱和区。同样, ${\\mathrm{M}}_{3}$ 管改成 $\\mathrm{N}$ 型 Cascode 电流镜后,可实现 Folded Cascode 输出阻抗匹配下的最大增益。"
}