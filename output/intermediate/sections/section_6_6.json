{
  "section_num": "6.6",
  "title": "多级运放",
  "start_line": 4553,
  "end_line": 4614,
  "content": "### 6.6 多级运放\n在实际运放电路系统中, 除了适应高电源电压的 Cascode 型运放电路外, 单级运放的开环增益有限, 难以满足控制和信号处理系统的精度要求。因此, 采用多级放大电路级联以提高开环增益, 就显得十分必要, 特别是对于低压系统, 由于高增益的 Cascode 无法适用, 增益的多级级联就更加重要。\n在多级增益组成的运放电路中,输入级基本上都是差分输入级,中间级和输出级可采用上一章介绍的各种组合电路结构。中间级与输出增益级除了实现一定的增益作用外, 还担负直流电平转换,电流传输、电流电压转换等功能。对于电阻负载驱动,输出级还应具备大电流负载驱动能力。\n典型的集成运放电路结构为经典的两级电路结构。当采用NMOS输入、PMOS电流镜负载的差分对时,后级则应采用 PMOS 为放大管、NMOS 为负载的 CS 增益结构。同样,当采用 PMOS差分对时,后级则采用 $\\mathrm{N}$ 型的 $\\mathrm{{CS}}$ 增益结构。一般而言,为保证前后增益级相互间的直流电位工作点匹配, 降低系统失配, 通常要求相临两增益级的类型相反。当然, 在偏置合适的条件下,后级可采用互补推挽的 Class A/AB/B 等驱动模式,改善电路的输出驱动性能。\n多级电路存在的一个严重问题是闭环系统的稳定性问题, 稳定性问题以及保障系统稳定的基本措施将在以下几章中详细分析介绍。本节将根据功率驱动的特殊要求, 介绍几种典型的 Class AB 多级运放结构及其在线性功放系统驱动中的应用。\n#### 6.6.1 多级 Class A/AB 运放\n图 6-30 给出了 Class AB 输出驱动的运放结构,图 (a) 中,输入级为 NMOS 差分对,经过一个 NMOS CD 交流电压跟随及直流电平移位后, 驱动 Class A 互补 CS 电压增益的输出级。图(b)中,输入级为 PMOS 差分输入的对称跨导放大器 OTA,利用 OTA 中 MOS 二极管可提供的互补极性的输出信号,选择 ${\\mathrm{M}}_{3}$ 的栅压偏置输出级 PMOS CS 增益的 NMOS 管, 由于 ${\\mathrm{M}}_{3}$ 的栅压极性与差分对输出级的电压极性相同,则构成 $\\mathrm{{CS}}$ 增益级的互补推挽驱动, 这种驱动通常工作在 Class A 的模式下。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_173_190_1365_1186_467_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_173_190_1365_1186_467_0.jpg)\n图 6-30 Class A/AB 两级互补推挽运放\n降低互补驱动管的静态电流,可将输出级偏置在 Class AB 甚至 Class B 的互补推挽驱动模式下。图 6-31 给出了一种折叠式 Cascode 输入级、Class AB CS 输出增益驱动的三级运放结构,其中中间级为两个相互对立的 $\\mathrm{{CD}}$ 电压跟随器,分别将 Cascode 差分级的输出向上移动一个 ${V}_{\\mathrm{{GSP}}}$ 电平用来驱动输出级的 PMOS 放大管,另一路则将差分输出向下移动一个 ${\\mathrm{V}}_{\\mathrm{{GSN}}}$ 电平来驱动输出级的 NMOS 放大管。由于输出级互补放大管的偏置和驱动电压可分别独立设定, 相对于图 6-30 中输出级的电压驱动有很大的自由度, 因此通常控制在 Class $\\mathrm{{AB}}$ 的推挽驱动模式。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_174_339_353_886_561_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_174_339_353_886_561_0.jpg)\n图 6-31 折叠式 Cascode Class AB 互补推挽放大\n图 6-32 给出了具有同样 Class AB 功能两级运放的另一种实现方式。为满足增益需要,差分输入级采用 Cascode 结构。输出级采用互补的 CS 结构而非 CD 结构,用对称并联的N/P MOS 电流镜实现 Class AB 驱动所需的交流短路直流移位的偏置功能,最大限度地提高输出电压的摆幅范围。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_174_283_1207_1003_614_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_174_283_1207_1003_614_0.jpg)\n图 6-32 折叠式 Cascode CS Class AB 两级运放\n#### 6.6.2 Class AB 功率放大\n功率放大是一种特殊的放大电路,功率放大需要对电压与电流信号同时放大。从前面介绍的各类放大器可以清楚看出, 电压放大与电流放大对输出负载的要求相互矛盾。电压放大需要高阻输出, 而电流放大需要低阻输出。对于功率放大, 单一的增益级无法解决电压与电流驱动之间不可调和的矛盾。因此,功放电路采取分步分级处理的策略。首先,由预放大或前置放大完成对输入信号的电压放大,由于没有电流驱动的要求,可以将输入电压放大至电源电压的摆幅范围。其次,采用已放大至满量程的电压输入信号驱动输出级,输出级电压增益为 1 , 因此具有驱动低负载阻抗的电流驱动能力。两者相互结合,实现功率放大。\n功率放大的关键和难点在于负载电流放大, 狭义上的功率放大器通常是指这种对低阻负载电流放大的电路。图 6-33 给出了一种采用全桥 BTL 差动模式驱动的功放电路,电压增益由前级预放大电路完成,输出级主要完成对 ${R}_{\\mathrm{L}}$ 负载的电流驱动。实际的效果是,通过调节 ${R}_{1}$ 和 ${R}_{\\mathrm{f}}$ 的电阻比,可在电流驱动级设置大于 1 的电压增益,控制输出功率。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_175_363_643_850_402_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_175_363_643_850_402_0.jpg)\n图 6-33 单通道 BTL 功率放大电路\n桥接式负载 BTL 驱动的主要优点,首先在于输出负载两端的静态工作点相同,负载电流为零,因此电路的静态功耗很小,具有 Class B 模式的低功耗特性。其次, BTL 模式下的交流峰值电压 ${V}_{\\mathrm{p}}$ 较单端 $\\mathrm{{SE}}$ 模式增加 1 倍,由此功率变为单端驱动的 4 倍,实现了正负双电源理想 $\\mathrm{B}$ 类的驱动功能。相比与单端模式, BTL 模式还能改善系统的电源抑制比。显然, BTL 驱动 Class A 的运放系统闭环架构,实现了 Class B 的静态低功耗以及 Class AB 的高效低失真互补推挽功率驱动性能。\n图 6-33 中的开环运放 ${\\mathrm{A}}_{\\mathrm{X}}$ 与 ${\\mathrm{A}}_{\\mathrm{Y}}$ 结构与参数指标完全相同。开环运放采用共漏电压跟随以及 Class AB 共源放大两种电路结构的并联组合, 同时实现了对大尺寸功率输出管的高速驱动、减小低失真和保证宽摆幅范围输出的要求。 ${\\mathrm{A}}_{\\mathrm{X}}/{\\mathrm{A}}_{\\mathrm{Y}}$ 开环运放的系统结构如图 6 - 34 所示,其中输入级 ${\\mathrm{A}}_{1}$ 采用常规的 OTA 单级运放以确保 ${\\mathrm{A}}_{\\mathrm{X}}$ 具备一定的开环增益。输出级中,由于共漏为单位增益,则与之并联的共源也必须实现单位增益的功能要求,一般采用 ${\\mathrm{A}}_{2}$ 及 ${\\mathrm{A}}_{3}$ 与输出功率管构成的单位负反馈结构,形成 Class B 互补驱动以降低静态功耗, 即共漏并联输出级主要用于确定静态工作电流,在克服 Class B 输出级失真的同时改善开环系统在静态点下的频响特性。\n图 6-34 中,共漏与共源级由同一输出点驱动,静态及轻载下的输出电压摆幅还会受到共漏级 ${\\mathrm{M}}_{3} - {\\mathrm{M}}_{6}$ 支路 $\\mathrm{A}$ 点电压的限制,不能满足低工作电压下宽摆幅的要求。图 6-35 则给出了以上电路的一种改进结构,有效克服了共漏对输出电压摆幅的限制。 ${\\mathrm{A}}_{1}$ 的输出为共源宽摆幅范围,通过增加的一个放大器 ${\\mathrm{A}}_{4}$ ,再将 ${\\mathrm{A}}_{1}$ 的宽摆幅输出驱动共漏共源并联电路。 在大电压摆幅的输出条件下,仅共源级电路起作用,而在接近低电压摆幅的输出条件下,共漏电压跟随电路起作用,可以得到与 ${\\mathrm{A}}_{1}$ 相同的电源电压摆幅范围。由于共漏级的电平损失,在中低输入电压摆幅范围内,放大器 ${\\mathrm{A}}_{4}$ 虚短路的特性保证了共漏级和共源级输入的一致。在接近 ${V}_{\\mathrm{{cc}}}$ 与地的电压范围下, ${\\mathrm{A}}_{4}$ 进入非线性工作区起比较器作用,共漏级失去对输出电压的控制作用。本结构中电压摆幅允许范围较大,有利于放大器输出更大的功率,提高电源效率。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_176_344_401_859_524_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_176_344_401_859_524_0.jpg)\n图 6-34 一种共漏共源组合电路 ${\\mathrm{A}}_{\\mathrm{X}}$\n图 6-35 中的 4 个开环运放, ${\\mathrm{A}}_{1}$ 保留 $\\mathrm{{OTA}}$ 的增益结构, ${\\mathrm{A}}_{4}$ 可采用基本的 $\\mathrm{N}$ 型差分对。由于 ${\\mathrm{A}}_{2}$ 驱动 $\\mathrm{{PMOS}}$ 功率管而 ${\\mathrm{A}}_{3}$ 驱动 $\\mathrm{{NMOS}}$ 功率管,则 ${\\mathrm{A}}_{2}$ 和 ${\\mathrm{A}}_{3}$ 分别采用 $\\mathrm{N}$ 型与 $\\mathrm{P}$ 型输出的 OTA 差分单级增益结构。图 6-36 给出了 ${\\mathrm{A}}_{\\mathrm{X}}$ 运放中 ${\\mathrm{A}}_{3}$ 实现的一种方式,电路在基本 OTA 基础上略作调整。首先在 OTA 的输出并联 ${\\mathrm{M}}_{10}$ 管作线性电阻,降低增益并限制 ${\\mathrm{M}}_{12}\\mathrm{{NMOS}}$ 功率管过流。其次,差分对 ${\\mathrm{M}}_{1}/{\\mathrm{M}}_{2}$ 采用非平衡设计,引入人为的输入失调, 利用运放的失调特性将静态下 ${\\mathrm{A}}_{3}$ 输出的共模输出控制在 ${V}_{\\mathrm{{TN}}}$ 以内,使 ${\\mathrm{M}}_{\\mathrm{P}2}$ 临界关闭,迫使功率级在静态下处于 Class B 的工作模式。最后,是电路动态特性的控制,引入 ${\\mathrm{M}}_{9}$ 管感应 PMOS 功率管电流,当 PMOS 功率管电流增加时,通过 ${\\mathrm{M}}_{9}$ 的控制,将 ${\\mathrm{A}}_{3}$ 的输出下拉关闭 ${\\mathrm{M}}_{12}\\mathrm{{NMOS}}$ 功率管,确保两功率管不同时导通,并且保证两者之间相互切换工作。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_176_111_1452_672_557_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_176_111_1452_672_557_0.jpg)\n图 6-35 一种改进的共漏共源组合电路 ${\\mathrm{A}}_{\\mathrm{X}}$\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_176_819_1608_615_403_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_176_819_1608_615_403_0.jpg)\n图 6-36 基于失调控制 Class B 模式的 ${\\mathrm{A}}_{3}$ 运放电路\n从以上功放系统可以看出,利用开环运放 ${\\mathrm{A}}_{\\mathrm{X}}/{\\mathrm{A}}_{\\mathrm{Y}}$ 构成的 $\\mathrm{{BTL}}$ 闭环系统可以实现对负载电流的驱动,而开环运放 ${\\mathrm{A}}_{\\mathrm{X}}$ 自身又是由不同类型增益结构组成,其中的 $\\mathrm{{CS}}$ 电压增益采用局部单位负反馈实现单位增益功能,与 CD 的单位电压跟随电路功能匹配。驱动大功率管的CS设置在 Class B 的工作模式以降低静态功耗,而驱动小功率管的 CD 设置在 Class $\\mathrm{{AB}}$ 以降低系统失真。因此,有机结合运放的开环与闭环增益系统,同时结合 Class A、Class B 和 Class AB 等不同工作模式的驱动特点,成为实现高效、高速、高精度线性信号处理的有效技术路径和实现方式。"
}