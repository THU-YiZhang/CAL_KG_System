{
  "section_num": "5.5",
  "title": "电流模电路",
  "start_line": 3735,
  "end_line": 3860,
  "content": "### 5.5 电流模电路\n以上所讨论的以电压增益为主的放大电路,输入与输出信号均为电压量,这种电压模电路所需要的输出宽摆幅与低电源电压之间的矛盾难以调和。另一方面,输出电压摆幅大,对负载电容充放电所需的时间长,瞬态响应速度慢,频率特性差。因此,电压模低压电路性能的提高受到严重的制约。\n换一个考虑问题的角度, 如果电路能够降低对信号摆幅范围限制的要求, 不但可以提高电容充放电的响应速度, 电源电压也可进一步降低。基于电流模信号处理的模拟电路, 就是这样一类对信号电压摆幅范围要求不高的电路类型, 只要能够消除噪声电压的影响, 有效信号的动态范围可大幅度降低。虽然电压摆幅不大,但电流信号的动态范围却较宽,完全可以适应对电流信号的小信号处理,实现特定的功能。\n电流模电路电压信号摆幅小的本质原因在于输出阻抗低,正是由于此特性不但使电流模电路适合于低压工作,同时由于低阻导致的高频极点,使得电流模电路还具有比电压模电路更好的频率特性与系统稳定性, 以及更快的动态响应速度。\n跨导线性电路 TL(Transconductance Linear)是对电流模信号进行处理的一种高速电路,如同非线性数字电路可以实现对信号的线性处理一样,可以完成对输入信号的非线性处理。而电流放大器则是对输入信号进行线性处理的一类高速线性电路。对 TL 电路和电流放大器的分析都是以电流模信号为基础。电路的最大工作频率取决于器件的截止频率 ${f}_{\\mathrm{T}}$ , 它明显超出电压模电路的 GBW 带宽所相对应的频率。电流模电路的最大优势在于高速、 低压和低功耗。下面通过对 TL 和电流放大电路的讨论, 熟悉对电流信号分析的基本方法。\n#### 5.5.1 TL 环路\nTL电路首先由 BJT 电路发展而来, BJT 管中 $I - V$ 呈指数关系,意味着电压只需很小的变化,就能引起一个很大的电流变化,也就是说电流信号的摆幅远大于电压摆幅。 电流信号的可变化范围很大, 有效克服了电压信号受电源电压限制的难题, 即当电压摆幅过大时,线性性能受到很大影响。因此,采用电流模信号电路,不单电压摆幅小、响应速度快、频带宽,而且线性范围大。BJT TL 电路可以扩展到 MOS TL 电路,但在同样条件下,由于 MOS 饱和电流电压 $I - V$ 的平方律关系,使得 MOS TL 比 BJT TL 性能略有欠缺。\n由于 $I - V$ 本质上的非线性关系,对 ${V}_{\\mathrm{{BE}}}\\left( I\\right)$ 或 ${V}_{\\mathrm{{GS}}}\\left( I\\right)$ 进行线性处理时,带来对电流变量的非线性处理,这是 TL 电路的另一个基本应用,即通过对电压变量线性处理,获得对电流变量的非线性控制。电流模电路的分析与设计更为简便, 与工艺、温度和电源电压有关的非理想因素都能消除或有效抑制。在分析方法上,与电压模电路相同,电流模电路同样存在大信号与小信号、线性与非线性的区别。\nBJT TL电路中,其跨导 ${g}_{\\mathrm{m}}$ 与电流 ${I}_{\\mathrm{C}}$ 的线性关系为 ${g}_{\\mathrm{m}\\left( \\mathrm{{BJT}}\\right) } = {I}_{\\mathrm{C}}/{V}_{\\mathrm{T}} = {\\alpha }_{\\mathrm{{BJT}}}{I}_{\\mathrm{C}}$ 。当 ${TL}$ 运用于 $\\mathrm{{MOS}}$ 电路后,其跨导 ${g}_{\\mathrm{m}}$ 与有效过驱动电压成正比,即与电流的平方根成正比,而不再与电流成正比,即 ${g}_{\\mathrm{m}\\left( \\mathrm{{MOS}}\\right) } = {\\left( 2k\\right) }^{1/2}{\\left( {I}_{\\mathrm{{DS}}}\\right) }^{1/2} = {\\alpha }_{\\mathrm{{MOS}}}{\\left( {I}_{\\mathrm{{DS}}}\\right) }^{1/2}$ 。BJT 管以及 MOS 管,其跨导因子的比例系数分别为 ${\\alpha }_{\\mathrm{{BJT}}} = 1/{V}_{\\mathrm{T}}$ 、 ${\\alpha }_{\\mathrm{{MOS}}} = {\\left( 2k\\right) }^{1/2}$ 。显然, ${\\alpha }_{\\mathrm{{BJT}}}$ 与电路参数无关,而 ${\\alpha }_{\\mathrm{{MOS}}}$ 则是与器件或电路参数密切相关的量。只有当 MOS 管工作在亚阈值条件下, MOS 管的跨导特性才类似于 BJT 管的跨导特性。\n对于BJT/MOS TL电路,在一个包含 $N$ (偶数)个BJT/MOS 管组成的闭合回路中, 下标用 $\\mathrm{{cw}}$ 或 $\\mathrm{{ccw}}$ 表示 $\\mathrm{{BJT}}/\\mathrm{{MOS}}$ 的 ${V}_{\\mathrm{{BE}}}/{V}_{\\mathrm{{GS}}}$ 以顺时针或逆时针方向接入 $\\mathrm{{TL}}$ 回路方式,则\n$$\n\\left. \\begin{array}{l} \\mathop{\\sum }\\limits_{\\mathrm{{CW}}}{\\left( {V}_{\\mathrm{{BE}}}\\right) }_{\\mathrm{i}} = \\mathop{\\sum }\\limits_{\\mathrm{{CCW}}}{\\left( {V}_{\\mathrm{{BE}}}\\right) }_{\\mathrm{j}} \\\\  \\mathop{\\sum }\\limits_{\\mathrm{{CW}}}{\\left( {V}_{\\mathrm{{GS}}}\\right) }_{\\mathrm{i}} = \\mathop{\\sum }\\limits_{\\mathrm{{CW}}}{\\left( {V}_{\\mathrm{{GS}}}\\right) }_{\\mathrm{j}} \\end{array}\\right\\}   \\tag{5-56}\n$$\n通常 $i = h = N - 2$ ,对于 $\\mathrm{{BJT}}$ 的 ${V}_{\\mathrm{{BE}}} = {V}_{\\mathrm{T}}\\ln \\left( {{I}_{\\mathrm{i}}/{I}_{\\mathrm{S}}}\\right)$ 关系,其中 ${I}_{\\mathrm{i}}\\text{、}{I}_{\\mathrm{S}}$ 分别为第 $i$ 个 BJT 管中发射极电流及其与该 BJT 管发射区面积成正比的反向饱和电流; 对于 MOS 的 ${V}_{\\mathrm{{GS}}} = {V}_{\\mathrm{{TH}}} + \\Delta$ 关系,其中 $\\Delta  = {\\left( 2{I}_{\\mathrm{{DS}}}/k\\right) }^{1/2}$ 。将以上 ${V}_{\\mathrm{{BE}}}$ 或 ${V}_{\\mathrm{{GS}}}$ 关系代入式(5-56)后,得到\n$$\n\\left. \\begin{array}{l} \\mathop{\\prod }\\limits_{\\mathrm{{CW}}}^{i}{\\left( \\frac{{I}_{\\mathrm{C}}}{{I}_{\\mathrm{S}}}\\right) }_{\\mathrm{i}} = \\mathop{\\prod }\\limits_{\\mathrm{{CCW}}}^{j}{\\left( \\frac{{I}_{\\mathrm{C}}}{{I}_{\\mathrm{S}}}\\right) }_{\\mathrm{j}} \\\\  \\mathop{\\sum }\\limits_{\\mathrm{{CW}}}{\\left( \\sqrt{\\frac{2{I}_{\\mathrm{{DS}}}}{k}} + {V}_{\\mathrm{{TH}}}\\right) }_{\\mathrm{i}} = \\mathop{\\sum }\\limits_{\\mathrm{{CCW}}}{\\left( \\sqrt{\\frac{2{I}_{\\mathrm{{DS}}}}{k}} + {V}_{\\mathrm{{TH}}}\\right) }_{\\mathrm{j}} \\end{array}\\right\\}   \\tag{5-57}\n$$\n对于 MOS TL 电路, 由于 CW 与 CCW 两个方向上 MOS 管类型的数量也相互匹配, 则在忽略衬底偏置效应的前提下,式中开启电压 ${V}_{\\mathrm{{TH}}}$ 可以相互抵消,以上关系进一步简化,得到 MOS TL 控制环路的基本特性方程\n$$\n\\mathop{\\sum }\\limits_{\\mathrm{{CW}}}{\\left( \\sqrt{\\frac{{I}_{\\mathrm{{DS}}}}{\\left( W/L\\right) }}\\right) }_{\\mathrm{i}} = \\mathop{\\sum }\\limits_{\\mathrm{{CCW}}}{\\left( \\sqrt{\\frac{{I}_{\\mathrm{{DS}}}}{\\left( W/L\\right) }}\\right) }_{\\mathrm{j}} \\tag{5 - 58}\n$$\n显然, 支路电流平方根之间满足特定的约束关系。利用此关系, 可实现对输入电流信号的各种非线性控制和处理。其中,普通线性电流源为 MOS TL 电路中一种最简单的特例, 两管组成的环路中 $\\mathrm{{CW}}$ 和 $\\mathrm{{CCW}}$ 管各一个,则利用以上原理,有 ${I}_{\\mathrm{{DSI}}}/{\\left( W/L\\right) }_{1} =$ ${I}_{\\mathrm{{DS}}2}/{\\left( W/L\\right) }_{2}$ ,得到常规意义上线性电流源满足的比例关系 ${I}_{\\mathrm{{DS}}1}/{I}_{\\mathrm{{DS}}2} = {\\left( W/L\\right) }_{1}/{\\left( W/L\\right) }_{2}$ 。\n图 5-25 给出了 MOS TL 的一种线性处理电路, ${\\mathrm{M}}_{1} \\sim  {\\mathrm{M}}_{4}$ 组成 TL 环路,其中 ${\\mathrm{M}}_{1}/{\\mathrm{M}}_{3}$ 方向相同,而 ${\\mathrm{M}}_{2}/{\\mathrm{M}}_{4}$ 方向相同。若 ${\\mathrm{M}}_{1}/{\\mathrm{M}}_{2}$ 的 $W/L$ 相同,而 ${\\mathrm{M}}_{3}/{\\mathrm{M}}_{4}$ 的 $W/L$ 相同。设 ${I}_{1}/$ ${I}_{2}$ 、 ${I}_{3}/{I}_{4}$ 分别为一组差分电流,即 ${I}_{1} = \\left( {1 + x}\\right) {I}_{\\mathrm{A}}$ 、 ${I}_{2} = \\left( {1 - x}\\right) {I}_{\\mathrm{A}}$ ,且 ${I}_{3} = \\left( {1 - y}\\right) {I}_{\\mathrm{B}}$ 、 ${I}_{4} =$ $\\left( {1 + y}\\right) {I}_{\\mathrm{B}}$ ,则利用 MOS TL 准则,有\n$$\n\\sqrt{\\frac{\\left( {1 + x}\\right) {I}_{\\mathrm{A}}}{{\\left( W/L\\right) }_{1}}} + \\sqrt{\\frac{\\left( {1 - y}\\right) {I}_{\\mathrm{B}}}{{\\left( W/L\\right) }_{3}}} = \\sqrt{\\frac{\\left( {1 - x}\\right) {I}_{\\mathrm{A}}}{{\\left( W/L\\right) }_{1}}} + \\sqrt{\\frac{\\left( {1 + y}\\right) {I}_{\\mathrm{B}}}{{\\left( W/L\\right) }_{3}}} \\tag{5 - 59}\n$$\n整理后得到对两个小信号电流的线性处理关系为\n$$\n\\frac{x}{y} = \\sqrt{\\frac{{\\left( W/L\\right) }_{1}}{{\\left( W/L\\right) }_{3}}\\frac{{I}_{\\mathrm{B}}}{{I}_{\\mathrm{A}}}} \\tag{5-60}\n$$\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_142_327_241_894_397_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_142_327_241_894_397_0.jpg)\n图 5-25 MOS TL 的差分信号的线性电流镜\n为保证电路中各 MOS 管工作于饱和区,需要对该差分电流镜作适当改进。由于 ${\\mathrm{M}}_{3}/{\\mathrm{M}}_{4}$ 尾电流源 ${V}_{\\mathrm{{DS}}}$ 电压的调节作用,使得 ${\\mathrm{M}}_{1}/{\\mathrm{M}}_{2}$ 因其 ${V}_{\\mathrm{{GS}}}$ 电压过大而进入线性区,为此采用 ${\\mathrm{M}}_{8}$ MOS二极管进行电平移位,这样 ${\\mathrm{M}}_{1} \\sim  {\\mathrm{M}}_{4}$ 的栅电位提高使 ${\\mathrm{M}}_{7}$ 管的 ${V}_{\\mathrm{{DS}}}$ 电位自适应提高, 使电路中各 MOS 管均处于饱和区, 完成电路功能。\n图 5-26 给出了利用 TL 原理实现信号非线性处理的另一种类型的电路,其中 ${\\mathrm{M}}_{1} \\sim  {\\mathrm{M}}_{4}$ 组成 TL 环, ${\\mathrm{M}}_{1}/{\\mathrm{M}}_{3}$ 同相,且其 $W/L$ 相同并为 $1,{\\mathrm{M}}_{2}/{\\mathrm{M}}_{4}$ 同相,其 $W/L$ 相同并为4。 ${I}_{\\mathrm{x}}$ 为 ${\\mathrm{M}}_{3}$ 电流, ${I}_{\\mathrm{y}}$ 为 ${\\mathrm{M}}_{1}$ 电流, ${\\mathrm{M}}_{2}$ 电流由两部分组成,一部分为 ${I}_{\\mathrm{x}} + {I}_{\\mathrm{y}}$ ,另一部分为外部注入电流 ${I}_{\\mathrm{z}}$ ,则根据 TL 环路的控制原理,有\n$$\n\\sqrt{{I}_{\\mathrm{y}}} + \\sqrt{{I}_{\\mathrm{x}}} = 2\\sqrt{\\left( {{I}_{\\mathrm{x} + \\mathrm{y}} + {I}_{\\mathrm{z}}}\\right) /4} \\tag{5 - 61}\n$$\n由此解出输出电流 ${I}_{\\mathrm{z}} = 2{\\left( {I}_{\\mathrm{x}}{I}_{\\mathrm{y}}\\right) }^{1/2}$ ,从而实现对 ${I}_{\\mathrm{x}}\\text{、}{I}_{\\mathrm{y}}$ 的非线性控制。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_142_221_1229_386_378_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_142_221_1229_386_378_0.jpg)\n图 5-26 TL 非线性控制\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_142_709_1241_625_366_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_142_709_1241_625_366_0.jpg)\n图 5-27 MOS 线性电流\n对于 MOS 线性电阻电流控制,同样可以从 TL 环路特性的角度进行分析。如图 5-27 所示,将单 MOS 管分裂为两个 $W/L$ 相同饱和的 MOS 管串联 (反相并联),组成一个两管 TL 环, 则两管合成的单管电流为\n$$\n{I}_{\\mathrm{{DS}}} = {I}_{\\mathrm{D}1} - {I}_{\\mathrm{D}2} = f\\left( {V}_{\\mathrm{{GS}}}\\right)  - f\\left( {V}_{\\mathrm{{GD}}}\\right)  = \\frac{k}{2}{\\left( {V}_{\\mathrm{{GS}}} - {V}_{\\mathrm{{TH}}}\\right) }^{2} - \\frac{k}{2}{\\left( {V}_{\\mathrm{{GD}}} - {V}_{\\mathrm{{TH}}}\\right) }^{2}\n$$\n(5 - 62)\n整理后, 得\n$$\n{I}_{\\mathrm{D}} = \\frac{k}{2}\\left( {{V}_{\\mathrm{{GS}}} + {V}_{\\mathrm{{GD}}} - 2{V}_{\\mathrm{{TH}}}}\\right) \\left( {{V}_{\\mathrm{{GS}}} - {V}_{\\mathrm{{GD}}}}\\right)  = k{V}_{\\mathrm{{DS}}}\\left( {{V}_{\\mathrm{{GS}}} - {V}_{\\mathrm{{TH}}} - \\frac{1}{2}{V}_{\\mathrm{{DS}}}}\\right)  \\tag{5 - 63}\n$$\n该电流等效于 MOS 管线性电阻电流,当 ${V}_{\\mathrm{{DS}}}$ 很小时即为线性关系。因此,线性区的 MOS 管可视为两个相同尺寸饱和 MOS 管的反向并联的等效结果。\n图 5-28(a) 给出了基于线性电阻工作区的 $\\mathrm{{TL}}$ 电路,其中 ${\\mathrm{M}}_{1}$ 处于线性电阻区,可以看成是 ${\\mathrm{M}}_{1}/{\\mathrm{M}}_{2}$ 饱和管的反向并联,因此 ${\\mathrm{M}}_{3} - {\\mathrm{M}}_{4} - {\\mathrm{M}}_{5} - {\\mathrm{M}}_{2}$ 构成 $\\mathrm{{TL}}$ 环,其中 ${\\mathrm{M}}_{2}$ 在物理上是不存在的结构,只是线性 ${\\mathrm{M}}_{1}$ 管等效而来的结构。实际的电路实现如图 5-28(b) 所示,其中 ${\\mathrm{M}}_{4}$ 偏置在线性电阻区,除此以外所有 MOS 管均工作于饱和区,而且所有 MOS 管的 $W/L$ 相同。在弱反型条件下,利 BJT 的 TL 规律, ${I}_{1}{I}_{\\mathrm{{DS}}3} = {I}_{2}{I}_{\\mathrm{T}2}\\text{、}{I}_{\\mathrm{{DS}}3} = {I}_{\\text{out }}\\text{、}{I}_{\\mathrm{T}2} = {I}_{1} - {I}_{\\text{out }}$ ,由此解得\n$$\n{I}_{\\text{out }} = \\frac{{I}_{1}{I}_{2}}{{I}_{1} + {I}_{2}} = {\\left( \\frac{1}{{I}_{1}} + \\frac{1}{{I}_{2}}\\right) }^{-1} \\tag{5 - 64}\n$$\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_143_263_706_1037_435_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_143_263_706_1037_435_0.jpg)\n图 5-28 MOS 线性区的 TL 电路\n以上实现了对两个电流源等效并联求合的运算。对于强反型 MOS TL, 输出电流满足以下非线性关系\n$$\n\\sqrt{{I}_{1}} + \\sqrt{{I}_{\\text{out }}} = \\sqrt{{I}_{2}} + \\sqrt{{I}_{1} - {I}_{\\text{out }}} \\tag{5-65}\n$$\n该电路中 ${\\mathrm{M}}_{4}$ 管作为 ${\\mathrm{M}}_{2} \\sim  {\\mathrm{M}}_{3}$ 非线性电流源的限流电阻,类似于偏置电路的作用,在 ${\\mathrm{M}}_{2}$ 、 ${\\mathrm{M}}_{3}$ 器件尺寸相同的条件下, ${I}_{\\text{out }} < {I}_{2}$ 。\n#### 5.5.2 电流放大器\n电流放大通常采用间接实现的控制方式, 将输入电流在 MOS 二极管低阻负载上转换成交流电压信号,再利用电压放大器完成对输入电压信号的放大,得到电压或电流输出,实现电流放大功能。\n根据以上原理实现的电流放大电路如图 5-29 所示。基本的电流镜中,电流 ${i}_{\\mathrm{{in}}}$ 经 $I - V$ 变换后传递到 ${\\mathrm{M}}_{1}$ 管的栅级,由于构成的 $\\mathrm{{MOS}}$ 二极管为低阻输入,等效的输入电压摆幅很小,输入电流通过 ${\\mathrm{M}}_{2}$ 的电流镜传递到输出。显然,这种电流线性放大为同相比例放大,当输入电流增加时, ${\\mathrm{M}}_{1}$ 管 ${\\mathrm{V}}_{\\mathrm{{GS}}}$ 驱动电压提高,输出电流按比例线性增加。为降低 $\\mathrm{{MOS}}$ 二极管的恒流输出阻抗 ${r}_{\\mathrm{{ds}}}$ 对 $1/{g}_{\\mathrm{m}}$ 输入低阻的影响,提高电流传输的线性度,可将普通 MOS 二极管改为如图(a)所示的 Cascode MOS 二极管输入结构。\n电流放大器的另一种实现方式是采用 CG 交流小信号电流跟随输入, 再经线性电流镜传递到输出。利用 CG 输入结构的电流放大器如图 5-29(b) 所示。与前一种电流放大方式不同,虽然采用的 Cascode 偏置相同,但输入电流注入的位置不同,造成电流变换的相位关系发生变化。当输入电流增加时, ${\\mathrm{M}}_{1}$ 管中的电流减小, 因此实现的是反相放大作用。\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_144_268_264_995_450_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_144_268_264_995_450_0.jpg)\n图 5-29 电流放大器\n![0196aaa2-bbe2-70ee-823d-d4abf5c67805_144_940_868_447_386_0.jpg](images/0196aaa2-bbe2-70ee-823d-d4abf5c67805_144_940_868_447_386_0.jpg)\n图 5-30 CG 输入的差分电流放大\n对 CG 输入的电流放大器进行适当的拓展, 可构成差分电流放大器。图 5-30 所示的差分电流放大电路中, 在输出支路的 CG 输入端同样引入另一交流小信号输入电流 ${i}_{2}$ 。当 ${i}_{2} = 0$ 时, ${i}_{\\text{out }} =  - m{i}_{1}$ ,对应为单端输入的线性电流放大, $m$ 为 ${\\mathrm{M}}_{2}$ 与 ${\\mathrm{M}}_{1}$ 尺寸 $\\left( {W/L}\\right)$ 之比决定的电流放大系数。通常取 $m = 1$ ,则当 ${i}_{2}$ 注入后,则 ${i}_{\\text{out }} =$ ${i}_{\\mathrm{M}2} - {i}_{2} =  - {i}_{1} - {i}_{2} =  - \\left( {{i}_{1} + {i}_{2}}\\right)$ 。因此,只要保证 ${i}_{2}$ 与 ${i}_{1}$ 的电流极性相反,则可实现差分电流的反相线性传输。\n进一步分析发现,当输入电流 ${i}_{1}$ 和 ${i}_{2}$ 采用对原始电压 ${V}_{i1}\\text{、}{V}_{i2}$ 跨导感应的方式获得时,即构成了前文介绍的 Folded Cascode 差分对的输入级结构,输出差分电流若传输到高阻负载上,形成宽电压摆幅并获得很高的电压增益；相反,若输出差分电流传递到低阻负载上,虽然形成的电压摆幅低,但输出差分电流大、电流增益高,动态响应速度快。"
}